{{! search }}
<div class='container-fluid'>
  <div id='info' class='row'>
    <div class='col-md-12'>
      <div class='pull-left'><strong class='text-success'>Search: {{q}}</strong></div>
      <div class='pull-right'><strong class='text-info'>Results: {parse meta}</strong></div>
    </div>
  </div>

  <div class='row'>

    {{! table }}
    <div id='table' class='col-md-9'>
      <table class='table table-hover'>
        <thead>
          <th>Title</th>
          <th>Organization</th>
          <th>Funding Mechanism / Activtiy</th>
          <th>Admin/Funding IC</th>
          <th>PIs</th>
          <th>Support Year</th>
          <th>Award Date</th>
          <th>Total Cost</th>
        </thead>
        <tbody>
          {{#each model.grants as |m|}}
            <tr>
              <td>{{m.projectTitle}}</td>
              <td>{{m.orgName}}</td>
              <td>{{m.fundingMechanism}} / {{m.activity}}</td>
              <td>{{m.administeringIc}} / {{m.icName}}</td>
              <td>
                {{#each m.piNames as |pi|}}
                  {{pi}}
                {{/each}}
              </td>
              <td>{{m.supportYear}}</td>
              <td>{{m.awardNoticeDate}}</td>
              <td>{{m.totalCost}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>

    {{! filter }}
    <div id='filter' class='col-md-3'>
      <div class='row text-center'><strong>Filters</strong></div>
      
      <div class='row'>
        <div class='col-md-12'>
          <h5>Funding Mechanism</h5>
          {{#power-select-multiple
            dropdownClass="slide-fade"
            options=model.fundingMechanisms
            placeholder='Select funding mechanisms'
            selected=fundingMechanism
            onchange=(action (mut fundingMechanism))
            as |mech|
          }}
            {{mech.id}} ({{mech.value}})
          {{/power-select-multiple}}
        </div>
      </div>

      <div class='row'>
        <div class='col-md-12'>
          <h5>Admin IC</h5>
          {{#power-select-multiple
            dropdownClass="slide-fade"
            options=model.administeringIcs
            placeholder='Select funding mechanisms'
            selected=administeringIc
            onchange=(action (mut administeringIc))
            as |ic|
          }}
            {{ic.id}} ({{ic.value}})
          {{/power-select-multiple}}
        </div>
      </div>

      <div class='row'>
        <div class='col-md-12 text-center'>
          {{#bs-button type='primary' size='xs' action='update'}}
            Update
          {{/bs-button}}
        </div>
      </div>
    </div>

  </div>
</div>
